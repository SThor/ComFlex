import tp1.ex3.server.ServerComponent
import tp1.ex3.client.ClientComponent
import tp1.ex3.client.interfaces.GenHello
import tp1.ex3.crypte.CrypteComponent
import tp1.ex3.decrypte.DecryptComponent
import tp1.ex3.spreader.SpreaderComponent

namespace tp1.ex3.composite{
	component CompositeComponent{
		provides service : GenHello = client.service
		
		part server1 : ServerComponent{}
		part server2 : ServerComponent{}
		part server3 : ServerComponent{}
		
		part decrypt1 : DecryptComponent{
			bind helper to server1.service
		}
		part decrypt2 : DecryptComponent{
			bind helper to server2.service
		}
		part decrypt3 : DecryptComponent{
			bind helper to server3.service
		}
		
		part spreader : SpreaderComponent{
			bind helper1 to decrypt1.service
			bind helper2 to decrypt2.service
			bind helper3 to decrypt3.service
		}
		
		part client : ClientComponent{
			bind helper to crypt.service
		}
				
		part crypt : CrypteComponent{
			bind helper to spreader.service
		}
	}
}